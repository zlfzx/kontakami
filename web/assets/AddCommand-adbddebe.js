import{r as a,j as t,a as s,_ as S,b as v}from"./index-c059fe49.js";import{T as F}from"./textarea-985f14f1.js";import{c as I}from"./utils-587908ec.js";import{B as y}from"./button-8a20b2ea.js";import"./index-e27f2a65.js";const g=a.forwardRef(({className:l,type:o,...m},n)=>t("input",{type:o,className:I("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l),ref:n,...m}));g.displayName="Input";const j=a.lazy(()=>S(()=>import("./Modal-9d89ac32.js"),["assets/Modal-9d89ac32.js","assets/index-c059fe49.js","assets/index-41523689.css","assets/index-e27f2a65.js","assets/Command-aa51eccc.js","assets/utils-587908ec.js","assets/button-8a20b2ea.js","assets/table-6f9cf1aa.js","assets/index-7e7c04ab.js"]));function P({isOpen:l,closeModal:o,setCommands:m,isEdit:n,data:r}){const[C,b]=a.useState(""),[u,i]=a.useState(""),[p,d]=a.useState(""),[f,c]=a.useState("");a.useEffect(()=>{b(""),i(""),d(""),c(""),n&&(b(r.id),i(r.command),d(r.description),c(r.message))},[n,r]);const N=async e=>{e.preventDefault(),console.log("submit form"),n?_():w()},w=async()=>{await v.post("/api/v1/command",{command:u,description:p,message:f}).then(e=>{console.log(e);const h=e.data.data;m(h),o(),x()}).catch(e=>{console.log(e)})},_=async()=>{await v.put(`/api/v1/command/${C}`,{command:u,description:p,message:f}).then(e=>{console.log(e);const h=e.data.data;m(h),o(),x()}).catch(e=>{console.log(e)})},x=()=>{i(""),d(""),c("")};return t(j,{title:n?"Edit Command":"Add Command",isOpen:l,onClose:o,children:t("form",{action:"#",method:"POST",onSubmit:N,className:"mt-3",children:s("div",{className:"space-y-6 ",children:[s("div",{children:[t("label",{htmlFor:"form-command",className:"block text-sm font-medium text-gray-500 mb-1",children:"Command"}),s("div",{className:"mt-1 flex shadow-sm",children:[t("span",{className:"inline-flex items-center border border-r-0 border-gray-300 bg-gray-50 px-3 text-sm text-gray-500",children:"/"}),t(g,{name:"command",value:u,onChange:e=>i(e.target.value),id:"form-command",placeholder:"command",required:!0})]})]}),s("div",{children:[t("label",{htmlFor:"form-description",className:"block text-sm font-medium text-gray-500 mb-1",children:"Description"}),t(g,{name:"description",value:p,onChange:e=>d(e.target.value),id:"form-description",placeholder:"command description",required:!0})]}),s("div",{children:[t("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-500 mb-1",children:"Message"}),t(F,{id:"message",name:"message",rows:"5",value:f,onChange:e=>c(e.target.value),placeholder:"lorem ipsum dolor sit amet",required:!0})]}),s("div",{className:"flex justify-end",children:[t(y,{type:"button",onClick:o,className:"mr-2",variant:"secondary",children:"Cancel"}),t(y,{type:"submit",children:"Save"})]})]})})})}export{P as default};
