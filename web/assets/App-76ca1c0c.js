import{j as l,a as h,N as q,O as B,r as p,C as W}from"./index-e8bc7082.js";import{u as F}from"./user-ca0d8e03.js";function Z(){let e="flex items-center justify-start w-full p-2 pl-6 my-2 ";const t="text-gray-800 transition-colors duration-200 border-l-4 border-blue-500 dark:text-white",a="text-gray-400 transition-colors duration-200 border-l-4 border-transparent hover:text-gray-800",o=({isActive:r,isPending:s})=>r?e+t:e+a;return l("div",{className:"relative hidden h-screen shadow-lg lg:block w-80",children:h("div",{className:"h-full bg-white dark:bg-gray-700",children:[l("div",{className:"flex items-center justify-start pt-6 ml-8",children:l("p",{className:"text-xl font-bold dark:text-white",children:"KontaKami"})}),l("nav",{className:"mt-6",children:h("div",{children:[h(q,{to:"/",className:o,children:[l("span",{className:"text-left",children:l("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M1472 992v480q0 26-19 45t-45 19h-384v-384h-256v384h-384q-26 0-45-19t-19-45v-480q0-1 .5-3t.5-3l575-474 575 474q1 2 1 6zm223-69l-62 74q-8 9-21 11h-3q-13 0-21-7l-692-577-692 577q-12 8-24 7-13-2-21-11l-62-74q-8-10-7-23.5t11-21.5l719-599q32-26 76-26t76 26l244 204v-195q0-14 9-23t23-9h192q14 0 23 9t9 23v408l219 182q10 8 11 21.5t-7 23.5z"})})}),l("span",{className:"mx-2 text-sm font-normal",children:"Dashboard"})]}),h(q,{to:"chat",className:o,children:[l("span",{className:"text-left",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-messages",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10"}),l("path",{d:"M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2"})]})}),h("span",{className:"mx-2 text-sm font-normal",children:["Conversation",l("span",{className:"w-4 h-2 p-1 ml-4 text-xs text-gray-400 bg-gray-200 rounded",children:"0"})]})]}),h(q,{to:"command",className:o,children:[l("span",{className:"text-left",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-command",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M7 9a2 2 0 1 1 2 -2v10a2 2 0 1 1 -2 -2h10a2 2 0 1 1 -2 2v-10a2 2 0 1 1 2 2h-10"})]})}),l("span",{className:"mx-2 text-sm font-normal",children:"Command"})]}),h(q,{to:"setting",className:o,children:[l("span",{className:"text-left",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-settings",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),l("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"})]})}),l("span",{className:"mx-2 text-sm font-normal",children:"Setting"})]})]})})]})})}function U(){return h("header",{className:"z-40 flex items-center justify-between w-full h-16",children:[l("div",{className:"block ml-6 lg:hidden",children:l("button",{className:"flex items-center p-2 text-gray-500 bg-white rounded-full shadow text-md",children:l("svg",{width:"20",height:"20",className:"text-gray-400",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M1664 1344v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45z"})})})}),l("div",{className:"relative z-20 flex flex-col justify-end h-full px-3 md:w-full",children:h("div",{className:"relative flex items-center justify-end w-full p-1 space-x-4",children:[l("button",{className:"flex items-center p-2 text-gray-400 bg-white rounded-full shadow hover:text-gray-700 text-md",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-bell",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l("path",{d:"M10 5a2 2 0 0 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6"}),l("path",{d:"M9 17v1a3 3 0 0 0 6 0v-1"})]})}),l("span",{className:"w-1 h-8 bg-gray-200 rounded-lg"}),l("a",{href:"#",className:"relative block",children:l("img",{alt:"profil",src:F,className:"mx-auto object-cover rounded-full h-10 w-10 "})}),h("button",{className:"flex items-center text-gray-500 dark:text-white text-md",children:["ZLFZX",l("svg",{width:"20",height:"20",className:"ml-2 text-gray-400",fill:"currentColor",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M1408 704q0 26-19 45l-448 448q-19 19-45 19t-45-19l-448-448q-19-19-19-45t19-45 45-19h896q26 0 45 19t19 45z"})})]})]})})]})}function J(){return h("div",{className:"flex flex-col w-full md:space-y-4",children:[l(U,{}),l("div",{className:"h-screen px-4 pb-24 overflow-auto md:px-6",children:l(B,{})})]})}let K={data:""},R=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||K,X=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Y=/\/\*[^]*?\*\/|  +/g,I=/\n+/g,y=(e,t)=>{let a="",o="",r="";for(let s in e){let i=e[s];s[0]=="@"?s[1]=="i"?a=s+" "+i+";":o+=s[1]=="f"?y(i,s):s+"{"+y(i,s[1]=="k"?"":t)+"}":typeof i=="object"?o+=y(i,t?t.replace(/([^,])+/g,n=>s.replace(/(^:.*)|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,n):n?n+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=y.p?y.p(s,i):s+":"+i+";")}return a+(t&&r?t+"{"+r+"}":r)+o},x={},H=e=>{if(typeof e=="object"){let t="";for(let a in e)t+=a+H(e[a]);return t}return e},G=(e,t,a,o,r)=>{let s=H(e),i=x[s]||(x[s]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(s));if(!x[i]){let c=s!==e?e:(d=>{let u,g,f=[{}];for(;u=X.exec(d.replace(Y,""));)u[4]?f.shift():u[3]?(g=u[3].replace(I," ").trim(),f.unshift(f[0][g]=f[0][g]||{})):f[0][u[1]]=u[2].replace(I," ").trim();return f[0]})(e);x[i]=y(r?{["@keyframes "+i]:c}:c,a?"":"."+i)}let n=a&&x.g?x.g:null;return a&&(x.g=x[i]),((c,d,u,g)=>{g?d.data=d.data.replace(g,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(x[i],t,o,n),i},Q=(e,t,a)=>e.reduce((o,r,s)=>{let i=t[s];if(i&&i.call){let n=i(a),c=n&&n.props&&n.props.className||/^go/.test(n)&&n;i=c?"."+c:n&&typeof n=="object"?n.props?"":y(n,""):n===!1?"":n}return o+r+(i??"")},"");function O(e){let t=this||{},a=e.call?e(t.p):e;return G(a.unshift?a.raw?Q(a,[].slice.call(arguments,1),t.p):a.reduce((o,r)=>Object.assign(o,r&&r.call?r(t.p):r),{}):a,R(t.target),t.g,t.o,t.k)}let S,L,P;O.bind({g:1});let b=O.bind({k:1});function V(e,t,a,o){y.p=t,S=e,L=a,P=o}function w(e,t){let a=this||{};return function(){let o=arguments;function r(s,i){let n=Object.assign({},s),c=n.className||r.className;a.p=Object.assign({theme:L&&L()},n),a.o=/ *go\d+/.test(c),n.className=O.apply(a,o)+(c?" "+c:""),t&&(n.ref=i);let d=e;return e[0]&&(d=n.as||e,delete n.as),P&&d[0]&&P(n),S(d,n)}return t?t(r):r}}var ee=e=>typeof e=="function",M=(e,t)=>ee(e)?e(t):e,te=(()=>{let e=0;return()=>(++e).toString()})(),_=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),re=20,j=new Map,ae=1e3,D=e=>{if(j.has(e))return;let t=setTimeout(()=>{j.delete(e),N({type:4,toastId:e})},ae);j.set(e,t)},se=e=>{let t=j.get(e);t&&clearTimeout(t)},A=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,re)};case 1:return t.toast.id&&se(t.toast.id),{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:a}=t;return e.toasts.find(s=>s.id===a.id)?A(e,{type:1,toast:a}):A(e,{type:0,toast:a});case 3:let{toastId:o}=t;return o?D(o):e.toasts.forEach(s=>{D(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+r}))}}},C=[],z={toasts:[],pausedAt:void 0},N=e=>{z=A(z,e),C.forEach(t=>{t(z)})},oe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ie=(e={})=>{let[t,a]=p.useState(z);p.useEffect(()=>(C.push(a),()=>{let r=C.indexOf(a);r>-1&&C.splice(r,1)}),[t]);let o=t.toasts.map(r=>{var s,i;return{...e,...e[r.type],...r,duration:r.duration||((s=e[r.type])==null?void 0:s.duration)||(e==null?void 0:e.duration)||oe[r.type],style:{...e.style,...(i=e[r.type])==null?void 0:i.style,...r.style}}});return{...t,toasts:o}},ne=(e,t="blank",a)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(a==null?void 0:a.id)||te()}),k=e=>(t,a)=>{let o=ne(t,e,a);return N({type:2,toast:o}),o.id},m=(e,t)=>k("blank")(e,t);m.error=k("error");m.success=k("success");m.loading=k("loading");m.custom=k("custom");m.dismiss=e=>{N({type:3,toastId:e})};m.remove=e=>N({type:4,toastId:e});m.promise=(e,t,a)=>{let o=m.loading(t.loading,{...a,...a==null?void 0:a.loading});return e.then(r=>(m.success(M(t.success,r),{id:o,...a,...a==null?void 0:a.success}),r)).catch(r=>{m.error(M(t.error,r),{id:o,...a,...a==null?void 0:a.error})}),e};var le=(e,t)=>{N({type:1,toast:{id:e,height:t}})},ce=()=>{N({type:5,time:Date.now()})},de=e=>{let{toasts:t,pausedAt:a}=ie(e);p.useEffect(()=>{if(a)return;let s=Date.now(),i=t.map(n=>{if(n.duration===1/0)return;let c=(n.duration||0)+n.pauseDuration-(s-n.createdAt);if(c<0){n.visible&&m.dismiss(n.id);return}return setTimeout(()=>m.dismiss(n.id),c)});return()=>{i.forEach(n=>n&&clearTimeout(n))}},[t,a]);let o=p.useCallback(()=>{a&&N({type:6,time:Date.now()})},[a]),r=p.useCallback((s,i)=>{let{reverseOrder:n=!1,gutter:c=8,defaultPosition:d}=i||{},u=t.filter(v=>(v.position||d)===(s.position||d)&&v.height),g=u.findIndex(v=>v.id===s.id),f=u.filter((v,$)=>$<g&&v.visible).length;return u.filter(v=>v.visible).slice(...n?[f+1]:[0,f]).reduce((v,$)=>v+($.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:le,startPause:ce,endPause:o,calculateOffset:r}}},pe=b`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ue=b`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,he=b`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,me=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ue} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${he} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fe=b`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ge=w("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${fe} 1s linear infinite;
`,ve=b`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xe=b`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,be=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ve} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ye=w("div")`
  position: absolute;
`,we=w("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ne=b`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ke=w("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ne} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qe=({toast:e})=>{let{icon:t,type:a,iconTheme:o}=e;return t!==void 0?typeof t=="string"?p.createElement(ke,null,t):t:a==="blank"?null:p.createElement(we,null,p.createElement(ge,{...o}),a!=="loading"&&p.createElement(ye,null,a==="error"?p.createElement(me,{...o}):p.createElement(be,{...o})))},Ee=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,je=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ce="0%{opacity:0;} 100%{opacity:1;}",ze="0%{opacity:1;} 100%{opacity:0;}",Me=w("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Oe=w("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$e=(e,t)=>{let a=e.includes("top")?1:-1,[o,r]=_()?[Ce,ze]:[Ee(a),je(a)];return{animation:t?`${b(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${b(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Le=p.memo(({toast:e,position:t,style:a,children:o})=>{let r=e.height?$e(e.position||t||"top-center",e.visible):{opacity:0},s=p.createElement(qe,{toast:e}),i=p.createElement(Oe,{...e.ariaProps},M(e.message,e));return p.createElement(Me,{className:e.className,style:{...r,...a,...e.style}},typeof o=="function"?o({icon:s,message:i}):p.createElement(p.Fragment,null,s,i))});V(p.createElement);var Pe=({id:e,className:t,style:a,onHeightUpdate:o,children:r})=>{let s=p.useCallback(i=>{if(i){let n=()=>{let c=i.getBoundingClientRect().height;o(e,c)};n(),new MutationObserver(n).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,o]);return p.createElement("div",{ref:s,className:t,style:a},r)},Ae=(e,t)=>{let a=e.includes("top"),o=a?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...o,...r}},Ie=O`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,E=16,De=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:o,children:r,containerStyle:s,containerClassName:i})=>{let{toasts:n,handlers:c}=de(a);return p.createElement("div",{style:{position:"fixed",zIndex:9999,top:E,left:E,right:E,bottom:E,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},n.map(d=>{let u=d.position||t,g=c.calculateOffset(d,{reverseOrder:e,gutter:o,defaultPosition:t}),f=Ae(u,g);return p.createElement(Pe,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?Ie:"",style:f},d.type==="custom"?M(d.message,d):r?r(d):p.createElement(Le,{toast:d,position:u}))}))};let T;T="/storage/profiles/";function _e(){const[e,t]=p.useContext(W),a=()=>{Notification.permission!=="granted"&&Notification.requestPermission().then(r=>{r==="granted"&&console.log("granted")}).catch(r=>{console.log(r)})},o=r=>{var c;const s=(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name),i=r!=null&&r.profile_photo?T+r.profile_photo:userIcon,n=new Notification(s,{body:(c=r==null?void 0:r.message)==null?void 0:c.text,icon:i});n.onclick=d=>{window.location.href=`/chat/${r.id}`}};return p.useEffect(()=>{a();const r=new WebSocket("ws://localhost:8080/ws/chat");return r.onopen=()=>{console.log("connected")},r.onmessage=s=>{const i=JSON.parse(s.data);window.location.pathname.includes(`/chat/${i.id}`)||i.message.user_id&&o(i),t({type:"SET_NEW_CHAT",payload:i})},()=>{r.close()}},[]),l("main",{className:"relative h-screen overflow-hidden bg-gray-100 dark:bg-gray-800",children:h("div",{className:"flex items-start justify-between",children:[l(Z,{}),l(J,{}),l(De,{})]})})}export{_e as default};
